<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>rpxy – Advanced Usage</title><link>https://rpxy.io/docs/guide/advanced/</link><description>Recent content in Advanced Usage on rpxy</description><generator>Hugo -- gohugo.io</generator><language>en</language><atom:link href="https://rpxy.io/docs/guide/advanced/index.xml" rel="self" type="application/rss+xml"/><item><title>HTTP/3</title><link>https://rpxy.io/docs/guide/advanced/http3/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://rpxy.io/docs/guide/advanced/http3/</guid><description>
&lt;p>&lt;code>rpxy&lt;/code> can serve HTTP/3 requests thanks to &lt;a href="https://github.com/quinn-rs/quinn" target="_blank" rel="noopener">&lt;code>quinn&lt;/code>&lt;/a>, &lt;a href="https://github.com/aws/s2n-quic" target="_blank" rel="noopener">&lt;code>s2n-quic&lt;/code>&lt;/a> and &lt;a href="https://github.com/hyperium/h3" target="_blank" rel="noopener">&lt;code>hyperium/h3&lt;/code>&lt;/a>. To enable this experimental feature, add an entry &lt;code>experimental.h3&lt;/code> in your &lt;code>config.toml&lt;/code> like follows. Then, any TLS-enabled application can be served with HTTP/3 in addition to HTTP/2 and HTTP/1.1 &lt;a href="https://rpxy.io/docs/guide/advanced/client_auth/" >except for the applications with TLS client authentication&lt;/a>.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">experimental&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">h3&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">alt_svc_max_age&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">3600&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">request_max_body_size&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">65536&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">max_concurrent_connections&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">10000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">max_concurrent_bidistream&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">100&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">max_concurrent_unistream&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">100&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">max_idle_timeout&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">Any values in the entry like &lt;code>alt_svc_max_age&lt;/code> are optional.&lt;/div>
&lt;/div>
&lt;/div></description></item><item><title>TLS Client Authentication</title><link>https://rpxy.io/docs/guide/advanced/client_auth/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://rpxy.io/docs/guide/advanced/client_auth/</guid><description>
&lt;p>TLS client authentication is enabled when &lt;code>apps.&amp;quot;app_name&amp;quot;.tls.client_ca_cert_path&lt;/code> is set for the domain specified by &lt;code>&amp;quot;app_name&amp;quot;&lt;/code> like&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">apps&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">localhost&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">server_name&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s1">&amp;#39;localhost&amp;#39;&lt;/span> &lt;span class="c"># Domain name&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">tls&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">https_redirection&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tls_cert_path&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s1">&amp;#39;./server.crt&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">tls_cert_key_path&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s1">&amp;#39;./server.key&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">client_ca_cert_path&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s1">&amp;#39;./client_cert.ca.crt&amp;#39;&lt;/span> &lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-yellow-100 hx:bg-yellow-50 hx:text-yellow-900 hx:dark:border-yellow-200/30 hx:dark:bg-yellow-700/30 hx:dark:text-yellow-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">⚠️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">Currently we have a limitation on HTTP/3 support for applications that enables client authentication. If an application is set with client authentication, HTTP/3 doesn&amp;rsquo;t work for the application.&lt;/div>
&lt;/div>
&lt;/div></description></item><item><title>ACME (Let's Encrypt) Integration</title><link>https://rpxy.io/docs/guide/advanced/acme/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://rpxy.io/docs/guide/advanced/acme/</guid><description>
&lt;p>In addition to &lt;a href="https://rpxy.io/docs/guide/basics/2_tls/" >use static files of certificates and private keys&lt;/a>, the automatic issuance and renewal of certificates, i.e., ACME (Automated Certificate Management Environment) standardized as &lt;a href="https://www.rfc-editor.org/rfc/rfc8555" target="_blank" rel="noopener">RFC8555&lt;/a>, are available in &lt;code>rpxy&lt;/code>. To enable this feature, you need to specify the following entries for each application requiring ACME in the configuration file.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml:config.toml" data-lang="toml:config.toml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># TLS port, which is also used for ACME challenge.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">listen_port_tls&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">443&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># ACME enabled domain name.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Note that acme option must be specified in the experimental section.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">apps&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="s2">&amp;#34;app_with_acme&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">server_name&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s1">&amp;#39;example.org&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">reverse_proxy&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[{&lt;/span> &lt;span class="nx">upstream&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[{&lt;/span> &lt;span class="nx">location&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s1">&amp;#39;app1.local:8080&amp;#39;&lt;/span> &lt;span class="p">}]&lt;/span> &lt;span class="p">}]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">tls&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">https_redirection&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">acme&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="p">}&lt;/span> &lt;span class="c"># do not specify tls_cert_path and/or tls_cert_key_path&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>ACME will be used to get a certificate for the &lt;code>server_name&lt;/code> with ACME &lt;a href="https://www.rfc-editor.org/rfc/rfc8737" target="_blank" rel="noopener">&lt;code>TLS-ALPN-01&lt;/code> (RFC8737)&lt;/a> protocol. So all you need is to open
the TLS port 443 to the public. Also in this case, you don&amp;rsquo;t need to specify &lt;code>tls_cert_path&lt;/code> and &lt;code>tls_cert_key_path&lt;/code> for the application.&lt;/p>
&lt;p>For every ACME enabled domain, the following settings are referred to acquire a certificate and a private key.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml:config.toml" data-lang="toml:config.toml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Global ACME settings. Unless specified, ACME is disabled.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">experimental&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">acme&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Email address for ACME registration.&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">email&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;test@example.com&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Optional: ACME directory URL. [default: &amp;#34;https://acme-v02.api.letsencrypt.org/directory&amp;#34;]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">dir_url&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;https://acme-staging-v02.api.letsencrypt.org/directory&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Optional: Directory storing retrieved certificates and private keys, which is relative to the current working directory. [default: &amp;#34;./acme_registry&amp;#34;]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">registry_path&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;./acme_registry&amp;#34;&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>The above configuration is common to all ACME enabled domains. Note that the https port must be open to the public to prove the domain ownership.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-yellow-100 hx:bg-yellow-50 hx:text-yellow-900 hx:dark:border-yellow-200/30 hx:dark:bg-yellow-700/30 hx:dark:text-yellow-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">⚠️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">This is a brand-new feature and maybe still unstable.&lt;/div>
&lt;/div>
&lt;/div></description></item><item><title>Caching</title><link>https://rpxy.io/docs/guide/advanced/cache/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://rpxy.io/docs/guide/advanced/cache/</guid><description>
&lt;p>&lt;code>rpxy&lt;/code> takes an approach to cache responses in a &lt;em>hybrid&lt;/em> way of temporary files and on-memory objects.
If &lt;code>[experimental.cache]&lt;/code> is specified in &lt;code>config.toml&lt;/code>, you can leverage the local caching feature using temporary files and on-memory objects. An example configuration is as follows.&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># If this specified, file cache feature is enabled&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">experimental&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cache&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">cache_dir&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s1">&amp;#39;./cache&amp;#39;&lt;/span> &lt;span class="c"># optional. default is &amp;#34;./cache&amp;#34; relative to the current working directory&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">max_cache_entry&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">1000&lt;/span> &lt;span class="c"># optional. default is 1k&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">max_cache_each_size&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">65535&lt;/span> &lt;span class="c"># optional. default is 64k&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">max_cache_each_size_on_memory&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="mi">4096&lt;/span> &lt;span class="c"># optional. default is 4k if 0, it is always file cache.&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;p>A &lt;em>storable&lt;/em> (in the context of an HTTP message) response is stored if its size is less than or equal to &lt;code>max_cache_each_size&lt;/code> in bytes. If it is also less than or equal to &lt;code>max_cache_each_size_on_memory&lt;/code>, it is stored as an on-memory object. Otherwise, it is stored as a temporary file. Note that &lt;code>max_cache_each_size&lt;/code> must be larger or equal to &lt;code>max_cache_each_size_on_memory&lt;/code>.&lt;/p>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">Once &lt;code>rpxy&lt;/code> restarts or the config is updated, the cache is totally eliminated not only from the on-memory table but also from the file system.&lt;/div>
&lt;/div>
&lt;/div></description></item><item><title>Post-Quantum Cryptography</title><link>https://rpxy.io/docs/guide/advanced/post_quantum/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://rpxy.io/docs/guide/advanced/post_quantum/</guid><description>
&lt;h2>Overview&lt;span class="hx:absolute hx:-mt-20" id="overview">&lt;/span>
&lt;a href="#overview" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;code>rpxy&lt;/code> provides cutting-edge security by supporting post-quantum cryptography, protecting your applications against future quantum computing threats. This feature is enabled by default and requires no special configuration.&lt;/p>
&lt;h2>What is Post-Quantum Cryptography?&lt;span class="hx:absolute hx:-mt-20" id="what-is-post-quantum-cryptography">&lt;/span>
&lt;a href="#what-is-post-quantum-cryptography" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>Post-quantum cryptography refers to cryptographic algorithms that are secure against attacks by quantum computers. As quantum computing technology advances, traditional cryptographic methods like RSA and ECC may become vulnerable. Post-quantum algorithms are designed to remain secure even when powerful quantum computers become available.&lt;/p>
&lt;h2>rpxy&amp;rsquo;s Implementation&lt;span class="hx:absolute hx:-mt-20" id="rpxys-implementation">&lt;/span>
&lt;a href="#rpxys-implementation" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Technical Foundation&lt;span class="hx:absolute hx:-mt-20" id="technical-foundation">&lt;/span>
&lt;a href="#technical-foundation" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;code>rpxy&lt;/code> enables post-quantum cryptography through the &lt;a href="https://github.com/rustls/rustls/tree/main/rustls-post-quantum" target="_blank" rel="noopener">&lt;code>rustls-post-quantum&lt;/code>&lt;/a> library, which provides post-quantum key exchange algorithms for rustls. This integration allows &lt;code>rpxy&lt;/code> to offer cutting-edge cryptographic security with minimal configuration.&lt;/p>
&lt;h3>Hybrid Key Exchange&lt;span class="hx:absolute hx:-mt-20" id="hybrid-key-exchange">&lt;/span>
&lt;a href="#hybrid-key-exchange" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>&lt;code>rpxy&lt;/code> implements &lt;strong>hybrid post-quantum key exchange&lt;/strong> that combines:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Classical cryptography&lt;/strong> (X25519) - Proven security for current threats&lt;/li>
&lt;li>&lt;strong>Post-quantum cryptography&lt;/strong> (ML-KEM 768) - Protection against quantum attacks&lt;/li>
&lt;/ul>
&lt;p>This hybrid approach provides:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Backward compatibility&lt;/strong> with existing systems&lt;/li>
&lt;li>&lt;strong>Future-proof security&lt;/strong> against quantum threats&lt;/li>
&lt;li>&lt;strong>Performance optimization&lt;/strong> without sacrificing security&lt;/li>
&lt;/ul>
&lt;h3>Supported Algorithms&lt;span class="hx:absolute hx:-mt-20" id="supported-algorithms">&lt;/span>
&lt;a href="#supported-algorithms" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">&lt;strong>X25519MLKEM768&lt;/strong>: This is the hybrid key exchange algorithm supported by &lt;code>rpxy&lt;/code>, combining X25519 elliptic curve cryptography with ML-KEM 768 (formerly Kyber768) post-quantum cryptography.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h3>Protocol Coverage&lt;span class="hx:absolute hx:-mt-20" id="protocol-coverage">&lt;/span>
&lt;a href="#protocol-coverage" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Post-quantum cryptography is supported across all secure protocols:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>TLS 1.3&lt;/strong> - All HTTPS connections use post-quantum key exchange&lt;/li>
&lt;li>&lt;strong>QUIC and HTTP/3&lt;/strong> - Post-quantum security for next-generation protocols&lt;/li>
&lt;li>&lt;strong>Automatic negotiation&lt;/strong> - Clients and servers negotiate the best available algorithm&lt;/li>
&lt;/ul>
&lt;h2>Configuration&lt;span class="hx:absolute hx:-mt-20" id="configuration">&lt;/span>
&lt;a href="#configuration" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Default Behavior&lt;span class="hx:absolute hx:-mt-20" id="default-behavior">&lt;/span>
&lt;a href="#default-behavior" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Post-quantum cryptography is &lt;strong>enabled by default&lt;/strong> in &lt;code>rpxy&lt;/code>. No configuration changes are required:&lt;/p>
&lt;div class="hextra-code-block hx:relative hx:mt-6 hx:first:mt-0 hx:group/code">
&lt;div>&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="c"># Post-quantum TLS is automatically enabled for all applications&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">apps&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="s2">&amp;#34;secure_app&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">server_name&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s1">&amp;#39;example.com&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">reverse_proxy&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[{&lt;/span> &lt;span class="nx">upstream&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">[{&lt;/span> &lt;span class="nx">location&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s1">&amp;#39;backend:8080&amp;#39;&lt;/span> &lt;span class="p">}]&lt;/span> &lt;span class="p">}]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">tls&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="nx">https_redirection&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="kc">true&lt;/span> &lt;span class="p">}&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/div>&lt;div class="hextra-code-copy-btn-container hx:opacity-0 hx:transition hx:group-hover/code:opacity-100 hx:flex hx:gap-1 hx:absolute hx:m-[11px] hx:right-0 hx:top-0">
&lt;button
class="hextra-code-copy-btn hx:group/copybtn hx:cursor-pointer hx:transition-all hx:active:opacity-50 hx:bg-primary-700/5 hx:border hx:border-black/5 hx:text-gray-600 hx:hover:text-gray-900 hx:rounded-md hx:p-1.5 hx:dark:bg-primary-300/10 hx:dark:border-white/10 hx:dark:text-gray-400 hx:dark:hover:text-gray-50"
title="Copy code"
>
&lt;div class="copy-icon hx:group-[.copied]/copybtn:hidden hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;div class="success-icon hx:hidden hx:group-[.copied]/copybtn:block hx:pointer-events-none hx:h-4 hx:w-4">&lt;/div>
&lt;/button>
&lt;/div>
&lt;/div>
&lt;h3>Verification&lt;span class="hx:absolute hx:-mt-20" id="verification">&lt;/span>
&lt;a href="#verification" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>You can verify post-quantum key exchange is active by:&lt;/p>
&lt;ol>
&lt;li>&lt;strong>Checking TLS handshake logs&lt;/strong> - Look for &lt;code>MLKEM768&lt;/code> or something like that in debug output&lt;/li>
&lt;li>&lt;strong>Using OpenSSL s_client&lt;/strong> - Examine cipher suite negotiation&lt;/li>
&lt;li>&lt;strong>Network analysis tools&lt;/strong> - Inspect TLS handshake packets&lt;/li>
&lt;/ol>
&lt;h2>Security Benefits&lt;span class="hx:absolute hx:-mt-20" id="security-benefits">&lt;/span>
&lt;a href="#security-benefits" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Current Protection&lt;span class="hx:absolute hx:-mt-20" id="current-protection">&lt;/span>
&lt;a href="#current-protection" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ul>
&lt;li>&lt;strong>Traditional threats&lt;/strong> - RSA, ECC still secure against classical computers&lt;/li>
&lt;li>&lt;strong>Side-channel attacks&lt;/strong> - Rust&amp;rsquo;s memory safety provides additional protection&lt;/li>
&lt;li>&lt;strong>Perfect forward secrecy&lt;/strong> - Session keys remain secure even if long-term keys are compromised&lt;/li>
&lt;/ul>
&lt;h3>Future Protection&lt;span class="hx:absolute hx:-mt-20" id="future-protection">&lt;/span>
&lt;a href="#future-protection" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;ul>
&lt;li>&lt;strong>Quantum resistance&lt;/strong> - Algorithms designed to withstand quantum attacks&lt;/li>
&lt;li>&lt;strong>Long-term security&lt;/strong> - Data encrypted today remains secure in the quantum era&lt;/li>
&lt;li>&lt;strong>Cryptographic agility&lt;/strong> - Easy transition to new algorithms as standards evolve&lt;/li>
&lt;/ul>
&lt;h2>Performance Impact&lt;span class="hx:absolute hx:-mt-20" id="performance-impact">&lt;/span>
&lt;a href="#performance-impact" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">&lt;strong>Minimal Overhead&lt;/strong>: The hybrid approach ensures post-quantum security while maintaining excellent performance. Key exchange operations are optimized and cached where possible.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Industry Standards&lt;span class="hx:absolute hx:-mt-20" id="industry-standards">&lt;/span>
&lt;a href="#industry-standards" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;p>&lt;code>rpxy&lt;/code>&amp;rsquo;s post-quantum implementation follows:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>IETF drafts&lt;/strong> - Implements &lt;a href="https://www.ietf.org/archive/id/draft-kwiatkowski-tls-ecdhe-mlkem-03.html" target="_blank" rel="noopener">draft-kwiatkowski-tls-ecdhe-mlkem-03&lt;/a> and &lt;a href="https://datatracker.ietf.org/doc/draft-ietf-tls-hybrid-design/" target="_blank" rel="noopener">draft-ietf-tls-hybrid-design&lt;/a>&lt;/li>
&lt;li>&lt;strong>NIST standards&lt;/strong> - Uses standardized ML-KEM (FIPS 203) cryptographic primitives&lt;/li>
&lt;li>&lt;strong>Industry adoption&lt;/strong> - Compatible with other implementations following the same IETF drafts&lt;/li>
&lt;/ul>
&lt;div class="hx:overflow-x-auto hx:mt-6 hx:flex hx:rounded-lg hx:border hx:py-2 hx:ltr:pr-4 hx:rtl:pl-4 hx:contrast-more:border-current hx:contrast-more:dark:border-current hx:border-blue-200 hx:bg-blue-100 hx:text-blue-900 hx:dark:border-blue-200/30 hx:dark:bg-blue-900/30 hx:dark:text-blue-200">
&lt;div class="hx:ltr:pl-3 hx:ltr:pr-2 hx:rtl:pr-3 hx:rtl:pl-2">&lt;div class="hx:select-none hx:text-xl" style="font-family: 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';">ℹ️&lt;/div>&lt;/div>
&lt;div class="hx:w-full hx:min-w-0 hx:leading-7">
&lt;div class="hx:mt-6 hx:leading-7 hx:first:mt-0">&lt;strong>Standard Status&lt;/strong>: The X25519MLKEM768 algorithm is based on IETF draft specifications (&lt;a href="https://www.ietf.org/archive/id/draft-kwiatkowski-tls-ecdhe-mlkem-03.html" target="_blank" rel="noopener">draft-kwiatkowski-tls-ecdhe-mlkem-03&lt;/a> and &lt;a href="https://datatracker.ietf.org/doc/draft-ietf-tls-hybrid-design/" target="_blank" rel="noopener">draft-ietf-tls-hybrid-design&lt;/a>) while using the standardized ML-KEM (FIPS 203) post-quantum cryptographic primitives.&lt;/div>
&lt;/div>
&lt;/div>
&lt;h2>Compatibility&lt;span class="hx:absolute hx:-mt-20" id="compatibility">&lt;/span>
&lt;a href="#compatibility" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h2>&lt;h3>Client Support&lt;span class="hx:absolute hx:-mt-20" id="client-support">&lt;/span>
&lt;a href="#client-support" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>Modern browsers and HTTP clients increasingly support post-quantum key exchange:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Chrome/Chromium&lt;/strong> - Experimental support available&lt;/li>
&lt;li>&lt;strong>Firefox&lt;/strong> - Support in development&lt;/li>
&lt;li>&lt;strong>OpenSSL&lt;/strong> - Recent versions support hybrid algorithms&lt;/li>
&lt;/ul>
&lt;h3>Fallback Behavior&lt;span class="hx:absolute hx:-mt-20" id="fallback-behavior">&lt;/span>
&lt;a href="#fallback-behavior" class="subheading-anchor" aria-label="Permalink for this section">&lt;/a>&lt;/h3>&lt;p>If clients don&amp;rsquo;t support post-quantum algorithms, &lt;code>rpxy&lt;/code> automatically falls back to classical cryptography, ensuring compatibility while providing enhanced security when possible.&lt;/p></description></item></channel></rss>